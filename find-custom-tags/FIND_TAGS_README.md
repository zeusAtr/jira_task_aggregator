# üîç Find Custom Tags - –ü–æ–∏—Å–∫ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ç–µ–≥–æ–≤ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–∞—Ö

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–°–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ç–µ–≥–æ–≤ –≤ —Ñ–∞–π–ª–∞—Ö –ø—Ä–æ–¥–∞–∫—à–Ω–æ–≤ (prod*.yml).

–°–∫–∞–Ω–∏—Ä—É–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ –ø—Ä–æ–¥–∞–∫—à–Ω–æ–≤ –∏ –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º `tag:`, –≤—ã–≤–æ–¥—è –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ —Ñ–∞–π–ª–æ–≤ –∏ –Ω–æ–º–µ—Ä–∞–º–∏ —Å—Ç—Ä–æ–∫.

## üìã –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–¥–∞–∫—à–Ω–æ–≤

–°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ–∞–π–ª–∞–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞ `prodN.yml` –∏–ª–∏ `prodN.yaml` (–≥–¥–µ N - –ª—é–±–æ–µ —á–∏—Å–ª–æ):

```yaml
# prod1.yml
service_name:
  cpu: 2
  memory: 4Gi
  tag: v1.2.3    # ‚Üê –°–∫—Ä–∏–ø—Ç –Ω–∞–π–¥–µ—Ç —ç—Ç—É —Å—Ç—Ä–æ–∫—É

another_service:
  cpu: 4
  memory: 8Gi
  tag: v2.0.0    # ‚Üê –ò —ç—Ç—É —Ç–æ–∂–µ

service_without_tag:
  cpu: 1
  memory: 2Gi
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
python find_custom_tags.py .

# –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
python find_custom_tags.py /path/to/production/configs
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞

```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
python find_custom_tags.py /path/to/configs -o report.txt

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ CSV
python find_custom_tags.py /path/to/configs -o report.csv -f csv

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ Markdown
python find_custom_tags.py /path/to/configs -o report.md -f md
```

## üìñ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ü—Ä–æ—Å—Ç–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –≥–¥–µ –µ—Å—Ç—å —Ç–µ–≥–∏

```bash
python find_custom_tags.py /path/to/prods
```

**–í—ã–≤–æ–¥:**
```
üîç –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏: /path/to/prods
======================================================================

‚úì –ù–∞–π–¥–µ–Ω–æ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–¥–∞–∫—à–Ω–æ–≤: 4

======================================================================
üìã –û–¢–ß–ï–¢: –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–µ–≥–∏
======================================================================

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ –§–∞–π–ª #1: prod1.yml
   –ü—É—Ç—å: /path/to/prods/prod1.yml
   –ù–∞–π–¥–µ–Ω–æ —Ç–µ–≥–æ–≤: 2
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   –°—Ç—Ä–æ–∫–∞    4: tag: v1.2.3
   –°—Ç—Ä–æ–∫–∞    9: tag: v2.0.1

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÑ –§–∞–π–ª #2: prod3.yml
   –ü—É—Ç—å: /path/to/prods/prod3.yml
   –ù–∞–π–¥–µ–Ω–æ —Ç–µ–≥–æ–≤: 3
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   –°—Ç—Ä–æ–∫–∞    4: tag: v1.0.0-beta
   –°—Ç—Ä–æ–∫–∞    9: tag: latest
   –°—Ç—Ä–æ–∫–∞   14: tag: v2.5.1

======================================================================
üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê
======================================================================
   –í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–¥–∞–∫—à–Ω–æ–≤: 4
   –§–∞–π–ª–æ–≤ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —Ç–µ–≥–∞–º–∏: 2
   –í—Å–µ–≥–æ –Ω–∞–π–¥–µ–Ω–æ —Ç–µ–≥–æ–≤: 5
======================================================================
```

### 2. –ö—Ä–∞—Ç–∫–∏–π –≤—ã–≤–æ–¥ (–±–µ–∑ –Ω–æ–º–µ—Ä–æ–≤ —Å—Ç—Ä–æ–∫)

```bash
python find_custom_tags.py /path/to/prods --brief
```

**–í—ã–≤–æ–¥:**
```
üìÑ –§–∞–π–ª #1: prod1.yml
   tag: v1.2.3
   tag: v2.0.1
```

### 3. –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤ Excel

```bash
python find_custom_tags.py /path/to/prods -o tags.csv -f csv
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ tags.csv:**
```csv
–§–∞–π–ª,–ü—É—Ç—å,–ù–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏,–¢–µ–≥
prod1.yml,/path/to/prods/prod1.yml,4,v1.2.3
prod1.yml,/path/to/prods/prod1.yml,9,v2.0.1
prod3.yml,/path/to/prods/prod3.yml,4,v1.0.0-beta
```

### 4. –≠–∫—Å–ø–æ—Ä—Ç –≤ Markdown –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

```bash
python find_custom_tags.py /path/to/prods -o tags_report.md -f md
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ tags_report.md:**
```markdown
# –û—Ç—á–µ—Ç: –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç–µ–≥–∏ –≤ —Ñ–∞–π–ª–∞—Ö –ø—Ä–æ–¥–∞–∫—à–Ω–æ–≤

## –ù–∞–π–¥–µ–Ω–Ω—ã–µ —Ç–µ–≥–∏

### üìÑ prod1.yml

**–ü—É—Ç—å:** `/path/to/prods/prod1.yml`

**–ù–∞–π–¥–µ–Ω–æ —Ç–µ–≥–æ–≤:** 2

| –°—Ç—Ä–æ–∫–∞ | –¢–µ–≥ |
|--------|-----|
| 4 | `v1.2.3` |
| 9 | `v2.0.1` |
```

### 5. –¢–∏—Ö–∏–π —Ä–µ–∂–∏–º (—Ç–æ–ª—å–∫–æ —ç–∫—Å–ø–æ—Ä—Ç, –±–µ–∑ –≤—ã–≤–æ–¥–∞ –Ω–∞ —ç–∫—Ä–∞–Ω)

```bash
python find_custom_tags.py /path/to/prods -o report.txt -q
```

–ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ cron –∏–ª–∏ CI/CD.

## üéõÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

```
–ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:
  path                  –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏ –ø—Ä–æ–¥–∞–∫—à–Ω–æ–≤

–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:
  -h, --help            –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
  -o OUTPUT, --output OUTPUT
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á–µ—Ç –≤ —Ñ–∞–π–ª
  -f {txt,csv,md}, --format {txt,csv,md}
                        –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: txt)
  -b, --brief           –ö—Ä–∞—Ç–∫–∏–π –≤—ã–≤–æ–¥ –±–µ–∑ –Ω–æ–º–µ—Ä–æ–≤ —Å—Ç—Ä–æ–∫
  -q, --quiet           –ù–µ –≤—ã–≤–æ–¥–∏—Ç—å –æ—Ç—á–µ—Ç –Ω–∞ —ç–∫—Ä–∞–Ω (—Ç–æ–ª—å–∫–æ –≤ —Ñ–∞–π–ª)
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

–°–∫—Ä–∏–ø—Ç –∏—â–µ—Ç —Ñ–∞–π–ª—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
- `prod1.yml`, `prod2.yml`, `prod3.yml`, ...
- `prod10.yml`, `prod123.yml`, ...
- `prod1.yaml`, `prod2.yaml`, ... (—Ç–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)

**–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∏–º–µ–Ω:**
- ‚úÖ `prod1.yml`
- ‚úÖ `prod23.yml`
- ‚úÖ `prod456.yaml`

**–ü—Ä–∏–º–µ—Ä—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∏–º–µ–Ω:**
- ‚ùå `production.yml` (–Ω–µ—Ç –Ω–æ–º–µ—Ä–∞)
- ‚ùå `prod.yml` (–Ω–µ—Ç –Ω–æ–º–µ—Ä–∞)
- ‚ùå `prod-1.yml` (–¥–µ—Ñ–∏—Å –≤–º–µ—Å—Ç–æ —á–∏—Å–ª–∞)
- ‚ùå `config.yml` (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è)

## üîç –ß—Ç–æ –∏—â–µ—Ç —Å–∫—Ä–∏–ø—Ç?

–°–∫—Ä–∏–ø—Ç –Ω–∞—Ö–æ–¥–∏—Ç —Å—Ç—Ä–æ–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```yaml
  tag: –∑–Ω–∞—á–µ–Ω–∏–µ
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è:**
- –õ—é–±—ã–µ –æ—Ç—Å—Ç—É–ø—ã (–ø—Ä–æ–±–µ–ª—ã)
- –õ—é–±—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ç–µ–≥–æ–≤
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ—Å–ª–µ –∑–Ω–∞—á–µ–Ω–∏—è (–∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è)

**–ü—Ä–∏–º–µ—Ä—ã:**
```yaml
service1:
  tag: v1.0.0              # ‚Üê –ù–∞–π–¥–µ—Ç
  tag: latest              # ‚Üê –ù–∞–π–¥–µ—Ç
  tag: v2.0.0-beta         # ‚Üê –ù–∞–π–¥–µ—Ç
  tag: sha-abc123          # ‚Üê –ù–∞–π–¥–µ—Ç
  tag: "v3.0.0"            # ‚Üê –ù–∞–π–¥–µ—Ç
  tag: 'v4.0.0'            # ‚Üê –ù–∞–π–¥–µ—Ç
```

## üìä –§–æ—Ä–º–∞—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞

### TXT (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
–ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è —á—Ç–µ–Ω–∏—è —á–µ–ª–æ–≤–µ–∫–æ–º.

### CSV
–î–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤ Excel, Google Sheets –∏–ª–∏ –¥—Ä—É–≥–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–Ω–∞–ª–∏–∑–∞.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```csv
–§–∞–π–ª,–ü—É—Ç—å,–ù–æ–º–µ—Ä —Å—Ç—Ä–æ–∫–∏,–¢–µ–≥
```

### Markdown
–î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ README, Wiki, Confluence.

–°–æ–¥–µ—Ä–∂–∏—Ç:
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–∏
- –¢–∞–±–ª–∏—Ü—ã —Å —Ç–µ–≥–∞–º–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∏–µ –≤–µ—Ä—Å–∏–∏ —Å–µ–π—á–∞—Å –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–∞—Ö
python find_custom_tags.py /deployments/production -o current_versions.txt

# –°—Ä–∞–≤–Ω–∏—Ç—å —Å –∂–µ–ª–∞–µ–º—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏
```

### 2. –ê—É–¥–∏—Ç –≤–µ—Ä—Å–∏–π

```bash
# –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ç–µ–≥–∏ –≤ CSV
python find_custom_tags.py /configs/prod -o audit_$(date +%Y%m%d).csv -f csv

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á–µ—Ç –∫–æ–º–∞–Ω–¥–µ
```

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```bash
# –°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç –≤ Markdown –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
python find_custom_tags.py /infrastructure/prod -o infrastructure.md -f md

# –î–æ–±–∞–≤–∏—Ç—å –≤ Wiki –∏–ª–∏ Confluence
```

### 4. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤ CI/CD

```bash
#!/bin/bash
# check_prod_tags.sh

python find_custom_tags.py /prod-configs -o tags_report.txt

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —Ç–µ–≥–∏ 'latest' (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ)
if grep -q "tag: latest" tags_report.txt; then
    echo "‚ùå –û—à–∏–±–∫–∞: –ù–∞–π–¥–µ–Ω —Ç–µ–≥ 'latest' –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ!"
    exit 1
fi

echo "‚úÖ –í—Å–µ —Ç–µ–≥–∏ –≤–∞–ª–∏–¥–Ω—ã"
```

### 5. –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç

```bash
#!/bin/bash
# weekly_tags_report.sh

REPORT_DATE=$(date +%Y-%m-%d)
REPORT_FILE="tags_report_${REPORT_DATE}.md"

python find_custom_tags.py /prod-configs -o "$REPORT_FILE" -f md -q

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á–µ—Ç –ø–æ email –∏–ª–∏ –≤ Slack
```

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CI/CD

### GitLab CI

```yaml
check-prod-tags:
  stage: test
  script:
    - pip install -r requirements.txt
    - python find_custom_tags.py ./prod-configs -o tags_report.txt
    - cat tags_report.txt
  artifacts:
    paths:
      - tags_report.txt
    expire_in: 1 week
```

### GitHub Actions

```yaml
name: Check Production Tags

on:
  pull_request:
    paths:
      - 'prod-configs/**'

jobs:
  check-tags:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'
      - name: Check tags
        run: |
          python find_custom_tags.py ./prod-configs -o tags_report.md -f md
          cat tags_report.md
      - name: Upload report
        uses: actions/upload-artifact@v3
        with:
          name: tags-report
          path: tags_report.md
```

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.6+
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Python (–Ω–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π!)

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –°–∫–∞—á–∞—Ç—å —Å–∫—Ä–∏–ø—Ç
curl -O https://your-server/find_custom_tags.py

# –ò–ª–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
cp find_custom_tags.py /usr/local/bin/

# –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x find_custom_tags.py

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
find_custom_tags.py /path/to/configs
```

## üí° –°–æ–≤–µ—Ç—ã

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Markdown –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏** - —É–¥–æ–±–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –≤ GitLab/GitHub
   ```bash
   python find_custom_tags.py . -o TAGS.md -f md
   ```

2. **CSV –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏** - –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ Excel/Google Sheets
   ```bash
   python find_custom_tags.py . -o tags.csv -f csv
   ```

3. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏** - –¥–æ–±–∞–≤—å—Ç–µ –≤ CI/CD pipeline

4. **–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–Ω–∏–º–∫–∏** - —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –æ—Ç—á–µ—Ç—ã —Å –¥–∞—Ç–æ–π
   ```bash
   python find_custom_tags.py . -o "tags_$(date +%Y%m%d).txt"
   ```

5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–ª–∞–≥ --quiet** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
   ```bash
   python find_custom_tags.py . -o report.txt -q
   ```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### "–§–∞–π–ª—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª—ã –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
ls -la /path/to/configs/prod*.yml

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å
python find_custom_tags.py /correct/path/to/configs
```

### "Permission denied"

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la /path/to/configs

# –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ
chmod +r /path/to/configs/*.yml
```

### "No tags found"

–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –≤ –≤–∞—à–∏—Ö —Ñ–∞–π–ª–∞—Ö –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ—Ç —Å—Ç—Ä–æ–∫ —Å `tag:`. –°–∫—Ä–∏–ø—Ç –ø—Ä–æ—Å—Ç–æ —Å–æ–æ–±—â–∏—Ç –æ–± —ç—Ç–æ–º.

## üìù –ü—Ä–∏–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–¥–∞–∫—à–Ω–æ–≤

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–π —Ñ–∞–π–ª

```yaml
# prod1.yml
web-service:
  cpu: 2
  memory: 4Gi
  tag: v1.2.3

api-service:
  cpu: 4
  memory: 8Gi
  tag: v2.0.1
```

### –ü—Ä–∏–º–µ—Ä 2: –ë–µ–∑ —Ç–µ–≥–æ–≤

```yaml
# prod2.yml
database:
  cpu: 8
  memory: 32Gi

cache:
  cpu: 2
  memory: 4Gi
```

### –ü—Ä–∏–º–µ—Ä 3: –°–º–µ—à–∞–Ω–Ω—ã–π

```yaml
# prod3.yml
frontend:
  cpu: 2
  memory: 4Gi
  tag: v3.1.0

backend:
  cpu: 4
  memory: 8Gi
  # –ù–µ—Ç —Ç–µ–≥–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

monitoring:
  cpu: 1
  memory: 2Gi
  tag: latest
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
